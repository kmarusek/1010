"use strict";function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function _possibleConstructorReturn(a,b){return!b||"object"!==_typeof(b)&&"function"!=typeof b?_assertThisInitialized(a):b}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _getPrototypeOf(a){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return(_setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var BWModuleFrontend=function(){function BWModuleFrontend(a){if(_classCallCheck(this,BWModuleFrontend),this._initSentry(),this.settings=a,a.id&&(this.id=a.id,this.element=document.querySelector(".fl-node-"+this.id),!this.element))return void this.warn("Error! Unable to locate element .fl-node-".concat(this.id));this.elements={},this.objectType=this._getObjectType(),this.init()}return _createClass(BWModuleFrontend,[{key:"_initSentry",value:function(){sentry_data.environment&&Sentry.init({dsn:"https://9097fbf7ed4247e7a5425f1a0654f37e@sentry.io/1460499"})}},{key:"sentryLog",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error";void 0!==Sentry&&Sentry.captureMessage(a,{data:b,level:c,fingerprint:["{{ default }}",sentry_data.environment]})}},{key:"_getObjectType",value:function(){return this.constructor.name}},{key:"debug",value:function(a){var b=arguments,c=a;if(b.length>1){c=[];for(var d=0;d<arguments.length;d++)c.push(arguments[d])}console.debug(this.constructor.name+" -",c)}},{key:"log",value:function(a){var b=arguments,c=a;if(b.length>1){c=[];for(var d=0;d<arguments.length;d++)c.push(arguments[d])}console.log(this.constructor.name+" -",c)}},{key:"warn",value:function(a){var b=arguments,c=a;if(b.length>1){c=[];for(var d=0;d<arguments.length;d++)c.push(arguments[d])}console.warn(this.constructor.name+" -",c)}},{key:"error",value:function(a){var b=arguments,c=a;if(b.length>1){c=[];for(var d=0;d<arguments.length;d++)c.push(arguments[d])}this.sentryLog(c),console.error(this.constructor.name+" -",c)}}]),BWModuleFrontend}(),BWSocialIcons=function(a){function BWSocialIcons(){return _classCallCheck(this,BWSocialIcons),_possibleConstructorReturn(this,_getPrototypeOf(BWSocialIcons).apply(this,arguments))}return _inherits(BWSocialIcons,a),_createClass(BWSocialIcons,[{key:"init",value:function(){this.elements.socialIconsContainerElement=this.element.querySelector(".social-icons-container"),this.settings.isSticky&&(this._bindAffixToShareIconsContainer(),bind_callback_to_window_resize(this._reinitAffix,this))}},{key:"_reinitAffix",value:function(){jQuery(window).off(".affix"),jQuery(this.elements.socialIconsContainerElement).removeClass("affix affix-top affix-bottom").removeData("bs.affix"),this._bindAffixToShareIconsContainer()}},{key:"_bindAffixToShareIconsContainer",value:function(){var a=jQuery,b=this.elements.socialIconsContainerElement.getBoundingClientRect().top,c=get_wp_admin_bar_height(),d=get_header_height(),e=window.scrollY+b-c-d;this.log("Calculated values:",{"Offset values:":[{"Module offset":b},{"WP Admin bar height":c},{"Height height":d},{"Total offset":e}]}),a(this.elements.socialIconsContainerElement).on("affix.bs.affix",function(){a(this).css({top:d+c+"px"})}).on("affix-top.bs.affix",function(){a(this).removeAttr("style")}).affix({offset:{top:e}}),this.log("Affixing share icon container")}}]),BWSocialIcons}(BWModuleFrontend);