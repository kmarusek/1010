{"version":3,"file":"frontend.js","names":["BWAnimatedSVG","settings","elementContainerID","lottieParams","loop","animationData","animateOnScroll","init","prototype","elementHasAnimated","unsupportedBrowsers","renderer","lotteAnimationObject","_getLottieAnimationObject","_onUnsupportedBrowser","_removeHeightStyle","_bindIntersectionObserver","_playAnimation","params","container","document","getElementById","autoplay","lottie","loadAnimation","html_classes","documentElement","className","split","on_older_browser","i","length","includes","svg","querySelectorAll","existing_style_attribute","getAttribute","existing_style_array","filter","Boolean","new_style_array","current_style","trim","style_key","push","new_style_attribute","join","setAttribute","play","self","target","options","threshold","observer","IntersectionObserver","entries","intersectionRatio","observe"],"sources":["components/Animations/bw-animated-svg/js/frontend.prebuilt.js"],"sourcesContent":["/**\r\n * Main class for our BWAnimatedSVG\r\n */\r\n BWAnimatedSVG = function( settings ) {\r\n    // Set the settings\r\n    this.elementContainerID         = settings.elementContainerID;\r\n    this.lottieParams.loop          = settings.lottieParams.loop;\r\n    this.lottieParams.animationData = settings.lottieParams.animationData;\r\n    this.animateOnScroll            = settings.animateOnScroll;\r\n    // Fire 'er up\r\n    this.init();\r\n};\r\n\r\nBWAnimatedSVG.prototype = {\r\n\r\n    /**\r\n     * The element id of the container\r\n     *\r\n     * @type string\r\n     */\r\n     elementContainerID : null,\r\n\r\n    /**\r\n     * Whether or not to animation after scrolling to the element\r\n     *\r\n     * @type {Boolean}\r\n     */\r\n     animateOnScroll : false,\r\n\r\n    /**\r\n     * Whether or not the element is animated\r\n     *\r\n     * @type {Boolean}\r\n     */\r\n     elementHasAnimated : false,\r\n\r\n     /**\r\n      * Remove the height style attribute if we're on these browsers.\r\n      *\r\n      * @type {Array}\r\n      */\r\n      unsupportedBrowsers : [\r\n      'internet-explorer11'\r\n      ],\r\n\r\n    /**\r\n     * The params we use with Lottie\r\n     *\r\n     * @type {Object}\r\n     */\r\n     lottieParams : {\r\n        renderer      : 'svg',\r\n        loop          : null,\r\n        animationData : null\r\n    },\r\n\r\n    /**\r\n     * Main method to init the object\r\n     *\r\n     * @return {void} \r\n     */\r\n     init: function(){\r\n\r\n        // First, create the animation object\r\n        this.lotteAnimationObject = this._getLottieAnimationObject();\r\n        // If we're on an older browser...\r\n        if ( this._onUnsupportedBrowser() ){\r\n            // Remove the height style (it causes an issue on IE11)\r\n            this._removeHeightStyle();\r\n        }\r\n        // If we're animating on scroll, then bind an observer\r\n        if ( this.animateOnScroll ){\r\n            this._bindIntersectionObserver();\r\n        }\r\n        // Otherwise, just animate onload\r\n        else {\r\n            this._playAnimation();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Method to create the animation via Lottie.\r\n     *\r\n     * @return object The Lottie animation object\r\n     */\r\n     _getLottieAnimationObject: function(){\r\n        // Default params\r\n        var params = {\r\n            container     : document.getElementById( this.elementContainerID ),\r\n            renderer      : this.lottieParams.renderer,\r\n            loop          : this.lottieParams.loop,\r\n            // We'll fine-tune control when it plays\r\n            autoplay      : false,\r\n            animationData : this.lottieParams.animationData\r\n        };\r\n        //  Bind the animation object\r\n        return lottie.loadAnimation( params );\r\n    },\r\n\r\n    /**\r\n     * Method for determinding if we're on an oldie of a browser\r\n     *\r\n     * @return {boolean} True if on an older browser\r\n     */\r\n     _onUnsupportedBrowser: function(){\r\n        var html_classes = document.documentElement.className.split( ' ' ),\r\n        on_older_browser = false,\r\n        i = 0;\r\n        while ( !on_older_browser && i < html_classes.length ){\r\n            if ( this.unsupportedBrowsers.includes( html_classes[i] ) ){\r\n                on_older_browser = true;\r\n            }\r\n            i++;\r\n        }\r\n        return on_older_browser;\r\n    },\r\n\r\n     /**\r\n      * Method to remove the height attribute from the lottie SVG (otherwise,\r\n      * it won't scale on IE11).\r\n      *\r\n      * @return {void}\r\n      */\r\n      _removeHeightStyle: function(){   \r\n        // Get the element container\r\n        var container            =   document.getElementById( this.elementContainerID ),\r\n        // Get the SVG\r\n        svg                      = container.querySelectorAll( 'svg' )[0],\r\n        // Get the existing styles\r\n        existing_style_attribute = svg.getAttribute( 'style' ),\r\n        // Turn into an array (and remove all empty items)\r\n        existing_style_array     = existing_style_attribute.split(';').filter( Boolean ),\r\n        // Make our new array for the style attributes\r\n        new_style_array          = [];\r\n        // Loop through the styles\r\n        for ( var i = 0; i < existing_style_array.length; i++ ){\r\n            // Get the current style\r\n            var current_style = existing_style_array[i].trim(),\r\n            // Get the key for this style\r\n            style_key = current_style.split(':')[0];\r\n            // If the style key is anything besides height, then add it back\r\n            // to the new style array\r\n            if ( style_key !== 'height' ){\r\n                // Add it\r\n                new_style_array.push( current_style );\r\n            }\r\n        }\r\n        // Get the new style attribute\r\n        var new_style_attribute = new_style_array.join( '; ' ) + ';';\r\n        // Set the new style attribute\r\n        svg.setAttribute( 'style', new_style_attribute );\r\n    },\r\n\r\n    /**\r\n     * This method actually plays the animation. This may be called at any time.\r\n     *\r\n     * @return {void}\r\n     */\r\n     _playAnimation: function(){\r\n        // Here we go!\r\n        this.lotteAnimationObject.play();\r\n        // Mark the animation as complete\r\n        this.elementHasAnimated = true;\r\n    },\r\n\r\n    /**\r\n     * Initializes the intersection observer to update the odometers on scroll\r\n     * \r\n     * @returns {void}\r\n     */\r\n     _bindIntersectionObserver: function(){\r\n        // Declare self outside of block\r\n        var self            = this,\r\n        target              = document.getElementById( this.elementContainerID + '-observer' ),\r\n        options             = {\r\n            threshold: 1\r\n        };\r\n        var observer = new IntersectionObserver(function(entries){\r\n            if ( entries[0].intersectionRatio > 0 && !self.elementHasAnimated ){\r\n                self._playAnimation();\r\n            }\r\n        }, options);\r\n        // Observe\r\n        observer.observe( target );\r\n    }\r\n};\r\n"],"mappings":"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"}